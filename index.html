<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Meteor Blaze</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>

    <!-- This is how you link Blaze -->
    <script src="https://s3.amazonaws.com/com.meteor/blaze.js"></script>

    <script>
      // This should be part of the Blaze core

      // Reactive variable for Blaze
      Deps = Package.deps.Deps;
      Blaze = {};
      Blaze.Var = function (initVal) {
        if (! (this instanceof Blaze.Var))
          return new Blaze.Var(initVal);
        this._dep = new Deps.Dependency;
        this._value = initVal;
      };

      Blaze.Var.prototype.get = function () {
        this._dep.depend();
        return this._value;
      };

      Blaze.Var.prototype.set = function (val) {
        if (this._value === val)
          return val;
        this._dep.changed();
        return (this._value = val);
      };

      // Compile all the templates on the page to HTMLJS AST
      $ = jQuery;
      $(document).ready(function () {
        $("script[type='text/spacebars']").each(function (index, script) {
          var name = script.getAttribute('name');
          var renderFuncCode = Spacebars.compile(script.innerHTML);
          eval("Template.__define__(" + JSON.stringify(name) +
               ", " + renderFuncCode + ");");
        });
      });
    </script>

    <link rel="stylesheet" href="highlight/styles/sunburst.css">
    <script src="highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Blaze</h1>
        <p>Meteor's Reactive UI Library</p>
        <p class="view"><a href="https://github.com/meteor/blaze">View the Project on GitHub <small>meteor/blaze</small></a></p>
        <ul>
          <li><a href="http://docs.meteor.com/#livehtmltemplates">Read <strong>Docs</strong></a></li>
          <li><a href="https://groups.google.com/forum/#!forum/meteor-blaze">Join the <strong>Discussion</strong></a></li>
          <li><a href="https://github.com/meteor/blaze">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>

        <section class="light home-section">
          <div class="highlights-row">
            <div class="highlights-col">
              <h3>Reactive by default</h3>
              <p>Relying on Deps, declarative reactive dependencies tracking
                system, developers can write much simpler code dealing with
                medium to bigger sized dependency graphs streamlining the
                updates from the data-model and user-generated events.</p>
            </div>
            <div class="highlights-col">
              <h3>Minimal DOM updates</h3>
              <p>Blaze takes care of changes in your data-model and
                intelligently updates only relevant pieces of the HTML DOM or
                SVG DOM with a blazing speed - thanks to structure-based
                templates.</p>
            </div>
            <div class="highlights-col">
              <h3>jQuery plugins compitability</h3>
              <p>Taking advantage of Blaze's component rendering model
                developers can reuse existing jQuery plugins.</p>
            </div>
          </div>
        </section>

        <div id="example1" class="example-result">
          <script type="text/spacebars" name="example1">
            {{count}} &nbsp; <input type="button" value="+1">
          </script>
        </div>

        <script type="text/javascript">

          $(document).ready(function () {

            count = Blaze.Var(0);

            Template.example1.count = function () {
              return count.get();
            };

            Template.example1.events({
              'click input': function () {
                count.set(count.get() + 1);
              }
            });

            UI.insert(UI.render(Template.example1), $("#example1").get(0));
          });

        </script>
        <pre><code>
&lt;script type="text/spacebars" name="example1">
  {{count}} &lt;input type="button" value="+1">
&lt;/script>

&lt;script>
    count = Blaze.Var(0);

    Template.example1.count = function () {
      return count.get();
    };

    Template.example1.events({
      'click input': function () {
        count.set(count.get() + 1);
      }
    });
&lt;/script>
        </code></pre>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/meteor">meteor</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  </body>
</html>

